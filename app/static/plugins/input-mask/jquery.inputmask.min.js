/**
* @license Input Mask plugin for jquery
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2014 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 0.0.0
*/
!function(a){function b(a){var b=document.createElement("input"),a="on"+a,c=a in b;return c||(b.setAttribute(a,"return;"),c="function"==typeof b[a]),b=null,c}function c(b,d,e){var f=e.aliases[b];return!!f&&(f.alias&&c(f.alias,void 0,e),a.extend(!0,e,f),a.extend(!0,e,d),!0)}function d(b){function c(c){b.numericInput&&(c=c.split("").reverse().join(""));var d=!1,e=0,f=b.greedy,g=b.repeat;"*"==g&&(f=!1),1==c.length&&0==f&&0!=g&&(b.placeholder="");for(var h=a.map(c.split(""),function(a,c){var f=[];if(a==b.escapeChar)d=!0;else if(a!=b.optionalmarker.start&&a!=b.optionalmarker.end||d){var g=b.definitions[a];if(g&&!d)for(var h=0;h<g.cardinality;h++)f.push(b.placeholder.charAt((e+h)%b.placeholder.length));else f.push(a),d=!1;return e+=f.length,f}}),i=h.slice(),j=1;j<g&&f;j++)i=i.concat(h.slice());return{mask:i,repeat:g,greedy:f}}function d(c){b.numericInput&&(c=c.split("").reverse().join(""));var d=!1,e=!1,f=!1;return a.map(c.split(""),function(a,c){var g=[];if(a==b.escapeChar)e=!0;else if(a!=b.optionalmarker.start||e){if(a!=b.optionalmarker.end||e){var h=b.definitions[a];if(h&&!e){for(var i=h.prevalidator,j=i?i.length:0,k=1;k<h.cardinality;k++){var l=j>=k?i[k-1]:[],m=l.validator,n=l.cardinality;g.push({fn:m?"string"==typeof m?new RegExp(m):new function(){this.test=m}:new RegExp("."),cardinality:n||1,optionality:d,newBlockMarker:1==d&&f,offset:0,casing:h.casing,def:h.definitionSymbol||a}),1==d&&(f=!1)}g.push({fn:h.validator?"string"==typeof h.validator?new RegExp(h.validator):new function(){this.test=h.validator}:new RegExp("."),cardinality:h.cardinality,optionality:d,newBlockMarker:f,offset:0,casing:h.casing,def:h.definitionSymbol||a})}else g.push({fn:null,cardinality:0,optionality:d,newBlockMarker:f,offset:0,casing:null,def:a}),e=!1;return f=!1,g}d=!1,f=!0}else d=!0,f=!0})}function e(a){return b.optionalmarker.start+a+b.optionalmarker.end}function f(a){for(var c=0,d=0,e=a.length,f=0;f<e&&(a.charAt(f)==b.optionalmarker.start&&c++,a.charAt(f)==b.optionalmarker.end&&d++,!(c>0&&c==d));f++);var g=[a.substring(0,f)];return f<e&&g.push(a.substring(f+1,e)),g}function g(a){for(var c=a.length,d=0;d<c&&a.charAt(d)!=b.optionalmarker.start;d++);var e=[a.substring(0,d)];return d<c&&e.push(a.substring(d+1,c)),e}function h(b,k,l){var m,n,o=f(k),p=g(o[0]);p.length>1?(m=b+p[0]+e(p[1])+(o.length>1?o[1]:""),-1==a.inArray(m,j)&&""!=m&&(j.push(m),n=c(m),i.push({mask:m,_buffer:n.mask,buffer:n.mask.slice(),tests:d(m),lastValidPosition:-1,greedy:n.greedy,repeat:n.repeat,metadata:l})),m=b+p[0]+(o.length>1?o[1]:""),-1==a.inArray(m,j)&&""!=m&&(j.push(m),n=c(m),i.push({mask:m,_buffer:n.mask,buffer:n.mask.slice(),tests:d(m),lastValidPosition:-1,greedy:n.greedy,repeat:n.repeat,metadata:l})),g(p[1]).length>1&&h(b+p[0],p[1]+o[1],l),o.length>1&&g(o[1]).length>1&&(h(b+p[0]+e(p[1]),o[1],l),h(b+p[0],o[1],l))):(m=b+o,-1==a.inArray(m,j)&&""!=m&&(j.push(m),n=c(m),i.push({mask:m,_buffer:n.mask,buffer:n.mask.slice(),tests:d(m),lastValidPosition:-1,greedy:n.greedy,repeat:n.repeat,metadata:l})))}var i=[],j=[];return a.isFunction(b.mask)&&(b.mask=b.mask.call(this,b)),a.isArray(b.mask)?a.each(b.mask,function(a,b){void 0!=b.mask?h("",b.mask.toString(),b):h("",b.toString())}):h("",b.mask.toString()),b.greedy?i:i.sort(function(a,b){return a.mask.length-b.mask.length})}function e(b,c,d,e){function k(){return b[c]}function l(){return k().tests}function m(){return k()._buffer}function n(){return k().buffer}function o(e,f,g){function h(a,b,c,e){for(var f=r(a),g=c?1:0,h="",i=b.buffer,j=b.tests[f].cardinality;j>g;j--)h+=w(i,f-(j-1));return c&&(h+=c),null!=b.tests[f].fn?b.tests[f].fn.test(h,i,a,e,d):(c==w(b._buffer,a,!0)||c==d.skipOptionalPartCharacter)&&{refresh:!0,c:w(b._buffer,a,!0),pos:a}}function i(c,d){var g=!1;if(a.each(d,function(b,d){if(g=-1==a.inArray(d.activeMasksetIndex,c)&&!1!==d.result)return!1}),g)d=a.map(d,function(d,e){if(-1==a.inArray(d.activeMasksetIndex,c))return d;b[d.activeMasksetIndex].lastValidPosition=p});else{var i,j=-1,k=-1;a.each(d,function(b,d){-1!=a.inArray(d.activeMasksetIndex,c)&&!1!==d.result&(-1==j||j>d.result.pos)&&(j=d.result.pos,k=d.activeMasksetIndex)}),d=a.map(d,function(d,g){if(-1!=a.inArray(d.activeMasksetIndex,c)){if(d.result.pos==j)return d;if(!1!==d.result){for(var l=e;l<j;l++){if(!1===(i=h(l,b[d.activeMasksetIndex],b[k].buffer[l],!0))){b[d.activeMasksetIndex].lastValidPosition=j-1;break}v(b[d.activeMasksetIndex].buffer,l,b[k].buffer[l],!0),b[d.activeMasksetIndex].lastValidPosition=l}return i=h(j,b[d.activeMasksetIndex],f,!0),!1!==i&&(v(b[d.activeMasksetIndex].buffer,j,f,!0),b[d.activeMasksetIndex].lastValidPosition=j),d}}})}return d}if(g=!0===g){var j=h(e,k(),f,g);return!0===j&&(j={pos:e}),j}var l=[],j=!1,m=c,o=n().slice(),p=k().lastValidPosition,x=(u(e),[]);return a.each(b,function(a,b){if("object"==typeof b){c=a;var d,i=e,r=k().lastValidPosition;if(r==p){if(i-p>1)for(var u=-1==r?0:r;u<i&&!1!==(d=h(u,k(),o[u],!0));u++){v(n(),u,o[u],!0),!0===d&&(d={pos:u});var w=d.pos||u;k().lastValidPosition<w&&(k().lastValidPosition=w)}if(!q(i)&&!h(i,k(),f,g)){for(var y=t(i)-i,z=0;z<y&&!1===h(++i,k(),f,g);z++);x.push(c)}}if((k().lastValidPosition>=p||c==m)&&i>=0&&i<s()){if(!1!==(j=h(i,k(),f,g))){!0===j&&(j={pos:i});var w=j.pos||i;k().lastValidPosition<w&&(k().lastValidPosition=w)}l.push({activeMasksetIndex:a,result:j})}}}),c=m,i(x,l)}function p(){var d=c,e={activeMasksetIndex:0,lastValidPosition:-1,next:-1};a.each(b,function(a,b){"object"==typeof b&&(c=a,k().lastValidPosition>e.lastValidPosition?(e.activeMasksetIndex=a,e.lastValidPosition=k().lastValidPosition,e.next=t(k().lastValidPosition)):k().lastValidPosition==e.lastValidPosition&&(-1==e.next||e.next>t(k().lastValidPosition))&&(e.activeMasksetIndex=a,e.lastValidPosition=k().lastValidPosition,e.next=t(k().lastValidPosition)))}),c=-1!=e.lastValidPosition&&b[d].lastValidPosition==e.lastValidPosition?d:e.activeMasksetIndex,d!=c&&(z(n(),t(e.lastValidPosition),s()),k().writeOutBuffer=!0),V.data("_inputmask").activeMasksetIndex=c}function q(a){var b=r(a),c=l()[b];return void 0!=c&&c.fn}function r(a){return a%l().length}function s(){return d.getMaskLength(m(),k().greedy,k().repeat,n(),d)}function t(a){var b=s();if(a>=b)return b;for(var c=a;++c<b&&!q(c););return c}function u(a){var b=a;if(b<=0)return 0;for(;--b>0&&!q(b););return b}function v(a,b,c,d){d&&(b=x(a,b));var e=l()[r(b)],f=c;if(void 0!=f&&void 0!=e)switch(e.casing){case"upper":f=c.toUpperCase();break;case"lower":f=c.toLowerCase()}a[b]=f}function w(a,b,c){return c&&(b=x(a,b)),a[b]}function x(a,b){for(var c;void 0==a[b]&&a.length<s();)for(c=0;void 0!==m()[c];)a.push(m()[c++]);return b}function y(a,b,c){a._valueSet(b.join("")),void 0!=c&&I(a,c)}function z(a,b,c,d){for(var e=b,f=s();e<c&&e<f;e++)!0===d?q(e)||v(a,e,""):v(a,e,w(m().slice(),e,!0))}function A(a,b){var c=r(b);v(a,b,w(m(),c))}function B(a){return d.placeholder.charAt(a%d.placeholder.length)}function C(d,e,f,g,h){var i=void 0!=g?g.slice():E(d._valueGet()).split("");a.each(b,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=-1,b.p=-1)}),!0!==f&&(c=0),e&&d._valueSet("");s();a.each(i,function(b,c){if(!0===h){var g=k().p,i=-1==g?g:u(g),j=-1==i?b:t(i);-1==a.inArray(c,m().slice(i+1,j))&&R.call(d,void 0,!0,c.charCodeAt(0),e,f,b)}else R.call(d,void 0,!0,c.charCodeAt(0),e,f,b)}),!0===f&&-1!=k().p&&(k().lastValidPosition=u(k().p))}function D(b){return a.inputmask.escapeRegex.call(this,b)}function E(a){return a.replace(new RegExp("("+D(m().join(""))+")*$"),"")}function F(a){for(var b,c,d=n(),e=d.slice(),c=e.length-1;c>=0;c--){var b=r(c);if(!l()[b].optionality)break;if(q(c)&&o(c,d[c],!0))break;e.pop()}y(a,e)}function G(b,c){if(!l()||!0!==c&&b.hasClass("hasDatepicker"))return b[0]._valueGet();var e=a.map(n(),function(a,b){return q(b)&&o(b,a,!0)?a:null}),f=(X?e.reverse():e).join("");return void 0!=d.onUnMask?d.onUnMask.call(this,n().join(""),f):f}function H(a){if(X&&"number"==typeof a&&(!d.greedy||""!=d.placeholder)){a=n().length-a}return a}function I(b,c,e){var f,g=b.jquery&&b.length>0?b[0]:b;if("number"!=typeof c)return a(b).is(":visible")?(g.setSelectionRange?(c=g.selectionStart,e=g.selectionEnd):document.selection&&document.selection.createRange&&(f=document.selection.createRange(),c=0-f.duplicate().moveStart("character",-1e5),e=c+f.text.length),c=H(c),e=H(e),{begin:c,end:e}):{begin:0,end:0};c=H(c),e=H(e),a(b).is(":visible")&&(e="number"==typeof e?e:c,g.scrollLeft=g.scrollWidth,0==d.insertMode&&c==e&&e++,g.setSelectionRange?(g.selectionStart=c,g.selectionEnd=h?c:e):g.createTextRange&&(f=g.createTextRange(),f.collapse(!0),f.moveEnd("character",e),f.moveStart("character",c),f.select()))}function J(e){if("*"!=d.repeat){var f=!1,g=0,h=c;return a.each(b,function(a,b){if("object"==typeof b){c=a;var d=u(s());if(b.lastValidPosition>=g&&b.lastValidPosition==d){for(var h=!0,i=0;i<=d;i++){var j=q(i),k=r(i);if(j&&(void 0==e[i]||e[i]==B(i))||!j&&e[i]!=m()[k]){h=!1;break}}if(f=f||h)return!1}g=b.lastValidPosition}}),c=h,f}}function K(a,b){return X?a-b>1||a-b==1&&d.insertMode:b-a>1||b-a==1&&d.insertMode}function L(b){var c=a._data(b).events;a.each(c,function(b,c){a.each(c,function(a,b){if("inputmask"==b.namespace&&"setvalue"!=b.type){var c=b.handler;b.handler=function(a){if(!this.readOnly&&!this.disabled)return c.apply(this,arguments);a.preventDefault}}})})}function M(b){var c;if(Object.getOwnPropertyDescriptor&&(c=Object.getOwnPropertyDescriptor(b,"value")),c&&c.get){if(!b._valueGet){var d=c.get,e=c.set;b._valueGet=function(){return X?d.call(this).split("").reverse().join(""):d.call(this)},b._valueSet=function(a){e.call(this,X?a.split("").reverse().join(""):a)},Object.defineProperty(b,"value",{get:function(){var b=a(this),c=a(this).data("_inputmask"),e=c.masksets,f=c.activeMasksetIndex;return c&&c.opts.autoUnmask?b.inputmask("unmaskedvalue"):d.call(this)!=e[f]._buffer.join("")?d.call(this):""},set:function(b){e.call(this,b),a(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&b.__lookupGetter__("value")){if(!b._valueGet){var d=b.__lookupGetter__("value"),e=b.__lookupSetter__("value");b._valueGet=function(){return X?d.call(this).split("").reverse().join(""):d.call(this)},b._valueSet=function(a){e.call(this,X?a.split("").reverse().join(""):a)},b.__defineGetter__("value",function(){var b=a(this),c=a(this).data("_inputmask"),e=c.masksets,f=c.activeMasksetIndex;return c&&c.opts.autoUnmask?b.inputmask("unmaskedvalue"):d.call(this)!=e[f]._buffer.join("")?d.call(this):""}),b.__defineSetter__("value",function(b){e.call(this,b),a(this).triggerHandler("setvalue.inputmask")})}}else if(b._valueGet||(b._valueGet=function(){return X?this.value.split("").reverse().join(""):this.value},b._valueSet=function(a){this.value=X?a.split("").reverse().join(""):a}),void 0==a.valHooks.text||1!=a.valHooks.text.inputmaskpatch){var d=a.valHooks.text&&a.valHooks.text.get?a.valHooks.text.get:function(a){return a.value},e=a.valHooks.text&&a.valHooks.text.set?a.valHooks.text.set:function(a,b){return a.value=b,a};jQuery.extend(a.valHooks,{text:{get:function(b){var c=a(b);if(c.data("_inputmask")){if(c.data("_inputmask").opts.autoUnmask)return c.inputmask("unmaskedvalue");var e=d(b),f=c.data("_inputmask");return e!=f.masksets[f.activeMasksetIndex]._buffer.join("")?e:""}return d(b)},set:function(b,c){var d=a(b),f=e(b,c);return d.data("_inputmask")&&d.triggerHandler("setvalue.inputmask"),f},inputmaskpatch:!0}})}}function N(a,b,c,d){var e=n();if(!1!==d)for(;!q(a)&&a-1>=0;)a--;for(var f=a;f<b&&f<s();f++)if(q(f)){A(e,f);var g=t(f),h=w(e,g);if(h!=B(g))if(g<s()&&!1!==o(f,h,!0)&&l()[r(f)].def==l()[r(g)].def)v(e,f,h,!0);else if(q(f))break}else A(e,f);if(void 0!=c&&v(e,u(b),c),0==k().greedy){var i=E(e.join("")).split("");e.length=i.length;for(var f=0,j=e.length;f<j;f++)e[f]=i[f];0==e.length&&(k().buffer=m().slice())}return a}function O(a,b,c){var d=n();if(w(d,a,!0)!=B(a))for(var e=u(b);e>a&&e>=0;e--)if(q(e)){var f=u(e),g=w(d,f);g!=B(f)&&!1!==o(f,g,!0)&&l()[r(e)].def==l()[r(f)].def&&(v(d,e,g,!0),A(d,f))}else A(d,e);void 0!=c&&w(d,a)==B(a)&&v(d,a,c);var h=d.length;if(0==k().greedy){var i=E(d.join("")).split("");d.length=i.length;for(var e=0,j=d.length;e<j;e++)d[e]=i[e];0==d.length&&(k().buffer=m().slice())}return b-(h-d.length)}function P(a,c,e){if(d.numericInput||X){switch(c){case d.keyCode.BACKSPACE:c=d.keyCode.DELETE;break;case d.keyCode.DELETE:c=d.keyCode.BACKSPACE}if(X){var f=e.end;e.end=e.begin,e.begin=f}}var g=!0;if(e.begin==e.end){var h=c==d.keyCode.BACKSPACE?e.begin-1:e.begin;d.isNumeric&&""!=d.radixPoint&&n()[h]==d.radixPoint&&(e.begin=n().length-1==h?e.begin:c==d.keyCode.BACKSPACE?h:t(h),e.end=e.begin),g=!1,c==d.keyCode.BACKSPACE?e.begin--:c==d.keyCode.DELETE&&e.end++}else e.end-e.begin!=1||d.insertMode||(g=!1,c==d.keyCode.BACKSPACE&&e.begin--);z(n(),e.begin,e.end);var i=s();if(0==d.greedy)N(e.begin,i,void 0,!X&&c==d.keyCode.BACKSPACE&&!g);else{for(var j=e.begin,l=e.begin;l<e.end;l++)!q(l)&&g||(j=N(e.begin,i,void 0,!X&&c==d.keyCode.BACKSPACE&&!g));g||(e.begin=j)}var m=t(-1);z(n(),e.begin,e.end,!0),C(a,!1,void 0==b[1]||m>=e.end,n()),k().lastValidPosition<m?(k().lastValidPosition=-1,k().p=m):k().p=e.begin}function Q(b){Z=!1;var c=this,e=a(c),f=b.keyCode,h=I(c);f==d.keyCode.BACKSPACE||f==d.keyCode.DELETE||g&&127==f||b.ctrlKey&&88==f?(b.preventDefault(),88==f&&(Y=n().join("")),P(c,f,h),p(),y(c,n(),k().p),c._valueGet()==m().join("")&&e.trigger("cleared"),d.showTooltip&&e.prop("title",k().mask)):f==d.keyCode.END||f==d.keyCode.PAGE_DOWN?setTimeout(function(){var a=t(k().lastValidPosition);d.insertMode||a!=s()||b.shiftKey||a--,I(c,b.shiftKey?h.begin:a,a)},0):f==d.keyCode.HOME&&!b.shiftKey||f==d.keyCode.PAGE_UP?I(c,0,b.shiftKey?h.begin:0):f==d.keyCode.ESCAPE||90==f&&b.ctrlKey?(C(c,!0,!1,Y.split("")),e.click()):f!=d.keyCode.INSERT||b.shiftKey||b.ctrlKey?0!=d.insertMode||b.shiftKey||(f==d.keyCode.RIGHT?setTimeout(function(){var a=I(c);I(c,a.begin)},0):f==d.keyCode.LEFT&&setTimeout(function(){var a=I(c);I(c,a.begin-1)},0)):(d.insertMode=!d.insertMode,I(c,d.insertMode||h.begin!=s()?h.begin:h.begin-1));var i=I(c);!0===d.onKeyDown.call(this,b,n(),d)&&I(c,i.begin,i.end),_=-1!=a.inArray(f,d.ignorables)}function R(e,f,g,h,i,j){if(void 0==g&&Z)return!1;Z=!0;var l=this,m=a(l);e=e||window.event;var g=f?g:e.which||e.charCode||e.keyCode;if(!(!0===f||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||_))return!0;if(g){!0!==f&&46==g&&0==e.shiftKey&&","==d.radixPoint&&(g=44);var q,r,x,z=String.fromCharCode(g);if(f){var A=i?j:k().lastValidPosition+1;q={begin:A,end:A}}else q=I(l);var C=K(q.begin,q.end),D=c;C&&(c=D,a.each(b,function(a,b){"object"==typeof b&&(c=a,k().undoBuffer=n().join(""))}),P(l,d.keyCode.DELETE,q),d.insertMode||a.each(b,function(a,b){"object"==typeof b&&(c=a,O(q.begin,s()),k().lastValidPosition=t(k().lastValidPosition))}),c=D);var E=n().join("").indexOf(d.radixPoint);d.isNumeric&&!0!==f&&-1!=E&&(d.greedy&&q.begin<=E?(q.begin=u(q.begin),q.end=q.begin):z==d.radixPoint&&(q.begin=E,q.end=q.begin));var F=q.begin;r=o(F,z,i),!0===i&&(r=[{activeMasksetIndex:c,result:r}]);var G=-1;if(a.each(r,function(a,b){c=b.activeMasksetIndex,k().writeOutBuffer=!0;var e=b.result;if(!1!==e){var f=!1,g=n();if(!0!==e&&(f=e.refresh,F=void 0!=e.pos?e.pos:F,z=void 0!=e.c?e.c:z),!0!==f){if(1==d.insertMode){for(var h=s(),j=g.slice();w(j,h,!0)!=B(h)&&h>=F;)h=0==h?-1:u(h);if(h>=F){O(F,s(),z);var l=k().lastValidPosition,m=t(l);m!=s()&&l>=F&&w(n(),m,!0)!=B(m)&&(k().lastValidPosition=m)}else k().writeOutBuffer=!1}else v(g,F,z,!0);(-1==G||G>t(F))&&(G=t(F))}else if(!i){var o=F<s()?F+1:F;(-1==G||G>o)&&(G=o)}G>k().p&&(k().p=G)}}),!0!==i&&(c=D,p()),!1!==h&&(a.each(r,function(a,b){if(b.activeMasksetIndex==c)return x=b,!1}),void 0!=x)){var H=this;if(setTimeout(function(){d.onKeyValidation.call(H,x.result,d)},0),k().writeOutBuffer&&!1!==x.result){var L,M=n();L=f?void 0:d.numericInput?F>E?u(G):z==d.radixPoint?G-1:u(G-1):G,y(l,M,L),!0!==f&&setTimeout(function(){!0===J(M)&&m.trigger("complete"),$=!0,m.trigger("input")},0)}else C&&(k().buffer=k().undoBuffer.split(""))}d.showTooltip&&m.prop("title",k().mask),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}}function S(b){var c=a(this),e=this,f=b.keyCode,g=n();i&&f==d.keyCode.BACKSPACE&&W==e._valueGet()&&Q.call(this,b),d.onKeyUp.call(this,b,g,d),f==d.keyCode.TAB&&d.showMaskOnFocus&&(c.hasClass("focus.inputmask")&&0==e._valueGet().length?(g=m().slice(),y(e,g),I(e,0),Y=n().join("")):(y(e,g),g.join("")==m().join("")&&-1!=a.inArray(d.radixPoint,g)?(I(e,H(0)),c.click()):I(e,H(0),H(s()))))}function T(b){if(!0===$)return $=!1,!0;var c=this,d=a(c);W=n().join(""),C(c,!1,!1),y(c,n()),!0===J(n())&&d.trigger("complete"),d.click()}function U(e){if(V=a(e),V.is(":input")){if(V.data("_inputmask",{masksets:b,activeMasksetIndex:c,opts:d,isRTL:!1}),d.showTooltip&&V.prop("title",k().mask),k().greedy=k().greedy?k().greedy:0==k().repeat,null!=V.attr("maxLength")){var g=V.prop("maxLength");g>-1&&a.each(b,function(a,b){"object"==typeof b&&"*"==b.repeat&&(b.repeat=g)}),s()>=g&&g>-1&&(g<m().length&&(m().length=g),0==k().greedy&&(k().repeat=Math.round(g/m().length)),V.prop("maxLength",2*s()))}if(M(e),d.numericInput&&(d.isNumeric=d.numericInput),("rtl"==e.dir||d.numericInput&&d.rightAlignNumerics||d.isNumeric&&d.rightAlignNumerics)&&V.css("text-align","right"),"rtl"==e.dir||d.numericInput){e.dir="ltr",V.removeAttr("dir");var h=V.data("_inputmask");h.isRTL=!0,V.data("_inputmask",h),X=!0}V.unbind(".inputmask"),V.removeClass("focus.inputmask"),V.closest("form").bind("submit",function(){Y!=n().join("")&&V.change()}).bind("reset",function(){setTimeout(function(){V.trigger("setvalue")},0)}),V.bind("mouseenter.inputmask",function(){var b=a(this),c=this;!b.hasClass("focus.inputmask")&&d.showMaskOnHover&&c._valueGet()!=n().join("")&&y(c,n())}).bind("blur.inputmask",function(){var e=a(this),f=this,g=f._valueGet(),h=n();e.removeClass("focus.inputmask"),Y!=n().join("")&&e.change(),d.clearMaskOnLostFocus&&""!=g&&(g==m().join("")?f._valueSet(""):F(f)),!1===J(h)&&(e.trigger("incomplete"),d.clearIncomplete&&(a.each(b,function(a,b){"object"==typeof b&&(b.buffer=b._buffer.slice(),b.lastValidPosition=-1)}),c=0,d.clearMaskOnLostFocus?f._valueSet(""):(h=m().slice(),y(f,h))))}).bind("focus.inputmask",function(){var b=a(this),c=this,e=c._valueGet();d.showMaskOnFocus&&!b.hasClass("focus.inputmask")&&(!d.showMaskOnHover||d.showMaskOnHover&&""==e)&&c._valueGet()!=n().join("")&&y(c,n(),t(k().lastValidPosition)),b.addClass("focus.inputmask"),Y=n().join("")}).bind("mouseleave.inputmask",function(){var b=a(this),c=this;d.clearMaskOnLostFocus&&(b.hasClass("focus.inputmask")||c._valueGet()==b.attr("placeholder")||(c._valueGet()==m().join("")||""==c._valueGet()?c._valueSet(""):F(c)))}).bind("click.inputmask",function(){var b=this;setTimeout(function(){var c=I(b),e=n();if(c.begin==c.end){var f,g=X?H(c.begin):c.begin,h=k().lastValidPosition;f=d.isNumeric&&!1===d.skipRadixDance&&""!=d.radixPoint&&-1!=a.inArray(d.radixPoint,e)?d.numericInput?t(a.inArray(d.radixPoint,e)):a.inArray(d.radixPoint,e):t(h),g<f?q(g)?I(b,g):I(b,t(g)):I(b,f)}},0)}).bind("dblclick.inputmask",function(){var a=this;setTimeout(function(){I(a,0,t(k().lastValidPosition))},0)}).bind(j+".inputmask dragdrop.inputmask drop.inputmask",function(b){if(!0===$)return $=!1,!0;var c=this,e=a(c);if("propertychange"==b.type&&c._valueGet().length<=s())return!0;setTimeout(function(){var a=void 0!=d.onBeforePaste?d.onBeforePaste.call(this,c._valueGet()):c._valueGet();C(c,!0,!1,a.split(""),!0),!0===J(n())&&e.trigger("complete"),e.click()},0)}).bind("setvalue.inputmask",function(){var a=this;C(a,!0),Y=n().join(""),a._valueGet()==m().join("")&&a._valueSet("")}).bind("complete.inputmask",d.oncomplete).bind("incomplete.inputmask",d.onincomplete).bind("cleared.inputmask",d.oncleared).bind("keyup.inputmask",S),i?V.bind("input.inputmask",T):V.bind("keydown.inputmask",Q).bind("keypress.inputmask",R),f&&V.bind("input.inputmask",T),C(e,!0,!1),Y=n().join("");var l;try{l=document.activeElement}catch(a){}l===e?(V.addClass("focus.inputmask"),I(e,t(k().lastValidPosition))):d.clearMaskOnLostFocus?n().join("")==m().join("")?e._valueSet(""):F(e):y(e,n()),L(e)}}var V,W,X=!1,Y=n().join(""),Z=!1,$=!1,_=!1;if(void 0!=e)switch(e.action){case"isComplete":return J(e.buffer);case"unmaskedvalue":return X=e.$input.data("_inputmask").isRTL,G(e.$input,e.skipDatepickerCheck);case"mask":U(e.el);break;case"format":return V=a({}),V.data("_inputmask",{masksets:b,activeMasksetIndex:c,opts:d,isRTL:d.numericInput}),d.numericInput&&(d.isNumeric=d.numericInput,X=!0),C(V,!1,!1,e.value.split(""),!0),n().join("")}}if(void 0===a.fn.inputmask){var f=null!==navigator.userAgent.match(new RegExp("msie 10","i")),g=null!==navigator.userAgent.match(new RegExp("iphone","i")),h=null!==navigator.userAgent.match(new RegExp("android.*safari.*","i")),i=null!==navigator.userAgent.match(new RegExp("android.*chrome.*","i")),j=b("paste")?"paste":b("input")?"input":"propertychange";a.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:a.noop,onincomplete:a.noop,oncleared:a.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:a.noop,onKeyDown:a.noop,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:a.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(a,b,c,d,e){var f=a.length;return b||("*"==c?f=d.length+1:c>1&&(f+=a.length*(c-1))),f}},escapeRegex:function(a){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return a.replace(new RegExp("(\\"+b.join("|\\")+")","gim"),"\\$1")},format:function(b,f){var g=a.extend(!0,{},a.inputmask.defaults,f);return c(g.alias,f,g),e(d(g),0,g,{action:"format",value:b})}},a.fn.inputmask=function(b,f){var g,h=a.extend(!0,{},a.inputmask.defaults,f),i=0;if("string"==typeof b)switch(b){case"mask":return c(h.alias,f,h),g=d(h),0==g.length?this:this.each(function(){e(a.extend(!0,{},g),0,h,{action:"mask",el:this})});case"unmaskedvalue":var j=a(this);return j.data("_inputmask")?(g=j.data("_inputmask").masksets,i=j.data("_inputmask").activeMasksetIndex,h=j.data("_inputmask").opts,e(g,i,h,{action:"unmaskedvalue",$input:j})):j.val();case"remove":return this.each(function(){var b=a(this),c=this;if(b.data("_inputmask")){g=b.data("_inputmask").masksets,i=b.data("_inputmask").activeMasksetIndex,h=b.data("_inputmask").opts,c._valueSet(e(g,i,h,{action:"unmaskedvalue",$input:b,skipDatepickerCheck:!0})),b.removeData("_inputmask"),b.unbind(".inputmask"),b.removeClass("focus.inputmask");var d;Object.getOwnPropertyDescriptor&&(d=Object.getOwnPropertyDescriptor(c,"value")),d&&d.get?c._valueGet&&Object.defineProperty(c,"value",{get:c._valueGet,set:c._valueSet}):document.__lookupGetter__&&c.__lookupGetter__("value")&&c._valueGet&&(c.__defineGetter__("value",c._valueGet),c.__defineSetter__("value",c._valueSet));try{delete c._valueGet,delete c._valueSet}catch(a){c._valueGet=void 0,c._valueSet=void 0}}});case"getemptymask":return this.data("_inputmask")?(g=this.data("_inputmask").masksets,i=this.data("_inputmask").activeMasksetIndex,g[i]._buffer.join("")):"";case"hasMaskedValue":return!!this.data("_inputmask")&&!this.data("_inputmask").opts.autoUnmask;case"isComplete":return g=this.data("_inputmask").masksets,i=this.data("_inputmask").activeMasksetIndex,h=this.data("_inputmask").opts,e(g,i,h,{action:"isComplete",buffer:this[0]._valueGet().split("")});case"getmetadata":return this.data("_inputmask")?(g=this.data("_inputmask").masksets,i=this.data("_inputmask").activeMasksetIndex,g[i].metadata):void 0;default:return c(b,f,h)||(h.mask=b),g=d(h),0==g.length?this:this.each(function(){e(a.extend(!0,{},g),i,h,{action:"mask",el:this})})}else{if("object"==typeof b)return h=a.extend(!0,{},a.inputmask.defaults,b),c(h.alias,b,h),g=d(h),0==g.length?this:this.each(function(){e(a.extend(!0,{},g),i,h,{action:"mask",el:this})});if(void 0==b)return this.each(function(){var b=a(this).attr("data-inputmask");if(b&&""!=b)try{b=b.replace(new RegExp("'","g"),'"');var d=a.parseJSON("{"+b+"}");a.extend(!0,d,f),h=a.extend(!0,{},a.inputmask.defaults,d),c(h.alias,d,h),h.alias=void 0,a(this).inputmask(h)}catch(a){}})}}}}(jQuery);